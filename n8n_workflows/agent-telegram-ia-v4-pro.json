{
  "name": "Agent Telegram IA - TalosPrimes",
  "nodes": [
    {
      "parameters": {
        "updates": ["message"],
        "additionalFields": {}
      },
      "id": "telegram_trigger",
      "name": "Telegram Trigger",
      "type": "n8n-nodes-base.telegramTrigger",
      "typeVersion": 1.1,
      "position": [200, 400],
      "credentials": {
        "telegramApi": {
          "id": "telegram-credential",
          "name": "Telegram Talosprimes"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose"
          },
          "conditions": [
            {
              "id": "condition_voice_check",
              "leftValue": "={{ $json.message.voice }}",
              "rightValue": "",
              "operator": {
                "type": "object",
                "operation": "exists"
              }
            }
          ],
          "combineOperation": "all"
        }
      },
      "id": "check_voice_or_text",
      "name": "Check Voice or Text",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [450, 400]
    },
    {
      "parameters": {
        "url": "=https://api.telegram.org/bot__VOTRE_BOT_TOKEN__/getFile?file_id={{ $json.message.voice.file_id }}",
        "method": "GET",
        "options": {}
      },
      "id": "get_voice_file_info",
      "name": "Get Voice File Info",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [700, 200]
    },
    {
      "parameters": {
        "url": "=https://api.telegram.org/file/bot__VOTRE_BOT_TOKEN__/{{ $json.result.file_path }}",
        "method": "GET",
        "options": {
          "response": {
            "response": {
              "responseFormat": "file"
            }
          }
        }
      },
      "id": "download_voice_file",
      "name": "Download Voice File",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [950, 200]
    },
    {
      "parameters": {
        "url": "https://api.openai.com/v1/audio/transcriptions",
        "method": "POST",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "=Bearer {{ $credentials.openaiApi.apiKey }}"
            }
          ]
        },
        "sendBody": true,
        "contentType": "multipart-form-data",
        "bodyParameters": {
          "parameters": [
            {
              "name": "model",
              "value": "whisper-1",
              "parameterType": "formData"
            },
            {
              "name": "file",
              "parameterType": "formBinaryData",
              "inputDataFieldName": "data"
            },
            {
              "name": "language",
              "value": "fr",
              "parameterType": "formData"
            }
          ]
        },
        "options": {}
      },
      "id": "transcribe_whisper",
      "name": "Transcribe with Whisper",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [1200, 200],
      "credentials": {
        "openaiApi": {
          "id": "openai-credential",
          "name": "OpenAI"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Fusionne la transcription vocale avec le contexte du message original\nconst items = $input.all();\nconst triggerItems = $('Telegram Trigger').all();\nconst originalTrigger = triggerItems[0].json;\nconst transcription = items[0].json.text || '';\n\nreturn [{\n  json: {\n    ...originalTrigger,\n    messageText: transcription,\n    isVoiceMessage: true,\n    chatId: String(originalTrigger.message.chat.id),\n    userId: String(originalTrigger.message.from.id)\n  }\n}];"
      },
      "id": "merge_voice_text",
      "name": "Merge Voice Text",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1450, 200]
    },
    {
      "parameters": {
        "jsCode": "// Extrait le texte du message Telegram\nconst triggerItems = $('Telegram Trigger').all();\nconst originalTrigger = triggerItems[0].json;\nconst messageText = originalTrigger.message.text || '';\n\nreturn [{\n  json: {\n    ...originalTrigger,\n    messageText: messageText,\n    isVoiceMessage: false,\n    chatId: String(originalTrigger.message.chat.id),\n    userId: String(originalTrigger.message.from.id)\n  }\n}];"
      },
      "id": "parse_text_message",
      "name": "Parse Text Message",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [700, 600]
    },
    {
      "parameters": {
        "jsCode": "// Prepare les donnees pour l'agent IA avec le system prompt\nconst items = $input.all();\nconst messageData = items[0].json;\n\nconst systemPrompt = `Tu es l'assistant IA officiel de TalosPrimes, une plateforme SaaS multi-tenant de gestion d'entreprise, accessible via Telegram.\n\n## Ton Role\nTu aides les utilisateurs a gerer leurs clients, leads, factures, abonnements et notifications via des commandes en langage naturel.\n\n## Regles\n1. AGIR : Quand on te demande une action (creer, lister, modifier, supprimer), execute-la immediatement via l'outil API approprie. Ne decris jamais comment faire.\n2. CONFIRMER : Apres chaque action reussie, confirme avec les donnees cles retournees (ID, nom, statut).\n3. ISOLATION TENANT : Respecte strictement l'isolation multi-tenant. Ne jamais melanger les donnees entre tenants.\n4. FRANCAIS : Reponds toujours en francais. Seuls les termes techniques restent en anglais.\n5. ERREURS : Si une API retourne une erreur, explique clairement le probleme et propose une solution concrete.\n6. FORMAT : Structure tes reponses avec du Markdown (gras, listes) pour la lisibilite sur Telegram.\n7. DEMANDER : Si des informations obligatoires manquent pour une action, demande-les avant d'executer.\n\n## Outils Disponibles\n- lister_clients : Liste tous les clients\n- creer_client : Cree un client (requis: type, email, nom, prenom, tenantId)\n- lister_leads : Liste tous les leads/prospects\n- creer_lead : Cree un lead (requis: nom, prenom, email, tenantId)\n- lister_factures : Liste toutes les factures\n- creer_facture : Cree une facture (requis: clientFinalId, montantHt, tenantId)\n- lister_abonnements : Liste les abonnements actifs\n- lister_notifications : Liste les notifications\n- stats_logs : Consulte les statistiques des logs systeme`;\n\nreturn [{\n  json: {\n    systemPrompt: systemPrompt,\n    input: messageData.messageText,\n    chatId: messageData.chatId,\n    userId: messageData.userId,\n    isVoiceMessage: messageData.isVoiceMessage || false\n  }\n}];"
      },
      "id": "ai_input_preparation",
      "name": "AI Input Preparation",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1700, 400]
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.input }}",
        "systemMessage": "={{ $json.systemPrompt }}",
        "options": {
          "maxIterations": 10
        }
      },
      "id": "ai_agent",
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2,
      "position": [1950, 400]
    },
    {
      "parameters": {
        "modelId": "claude-sonnet-4-20250514",
        "temperature": 0.3,
        "options": {}
      },
      "id": "claude_model",
      "name": "Claude Model",
      "type": "@n8n/n8n-nodes-langchain.lmChatAnthropic",
      "typeVersion": 1.2,
      "position": [1800, 720],
      "credentials": {
        "anthropicApi": {
          "id": "anthropic-credential",
          "name": "Anthropic"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('AI Input Preparation').first().json.chatId }}",
        "contextWindowLength": 10
      },
      "id": "conversation_memory",
      "name": "Conversation Memory",
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.2,
      "position": [1950, 720]
    },
    {
      "parameters": {
        "name": "lister_clients",
        "description": "Liste tous les clients enregistres dans TalosPrimes. Retourne un tableau JSON avec les informations de chaque client (id, nom, prenom, email, type, telephone, etc.).",
        "method": "GET",
        "url": "https://api.talosprimes.com/api/clients",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "httpHeaderAuth",
        "sendHeaders": true,
        "specifyHeaders": "keypair",
        "headerParameters": {
          "values": [
            {
              "name": "X-TalosPrimes-N8N-Secret",
              "value": "={{ $credentials.httpHeaderAuth.value }}"
            }
          ]
        }
      },
      "id": "tool_lister_clients",
      "name": "lister_clients",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [2150, 720],
      "credentials": {
        "httpHeaderAuth": {
          "id": "talosprimes-credential",
          "name": "Connexion TalosPrimes"
        }
      }
    },
    {
      "parameters": {
        "name": "creer_client",
        "description": "Cree un nouveau client dans TalosPrimes. Champs requis: type (particulier ou professionnel), email, nom, prenom, tenantId. Champs optionnels: raisonSociale, telephone, adresse, tags.",
        "method": "POST",
        "url": "https://api.talosprimes.com/api/clients",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "httpHeaderAuth",
        "sendHeaders": true,
        "specifyHeaders": "keypair",
        "headerParameters": {
          "values": [
            {
              "name": "X-TalosPrimes-N8N-Secret",
              "value": "={{ $credentials.httpHeaderAuth.value }}"
            },
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ JSON.stringify({ type: $fromAI('type', 'Type de client: particulier ou professionnel', 'string'), email: $fromAI('email', 'Adresse email du client', 'string'), nom: $fromAI('nom', 'Nom de famille du client', 'string'), prenom: $fromAI('prenom', 'Prenom du client', 'string'), raisonSociale: $fromAI('raisonSociale', 'Raison sociale si professionnel, vide sinon', 'string'), telephone: $fromAI('telephone', 'Numero de telephone, vide si non fourni', 'string'), tenantId: $fromAI('tenantId', 'Identifiant du tenant', 'string') }) }}"
      },
      "id": "tool_creer_client",
      "name": "creer_client",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [2350, 720],
      "credentials": {
        "httpHeaderAuth": {
          "id": "talosprimes-credential",
          "name": "Connexion TalosPrimes"
        }
      }
    },
    {
      "parameters": {
        "name": "lister_leads",
        "description": "Liste tous les leads et prospects enregistres dans TalosPrimes. Retourne un tableau JSON avec les informations de chaque lead (id, nom, prenom, email, source, statut, etc.).",
        "method": "GET",
        "url": "https://api.talosprimes.com/api/leads",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "httpHeaderAuth",
        "sendHeaders": true,
        "specifyHeaders": "keypair",
        "headerParameters": {
          "values": [
            {
              "name": "X-TalosPrimes-N8N-Secret",
              "value": "={{ $credentials.httpHeaderAuth.value }}"
            }
          ]
        }
      },
      "id": "tool_lister_leads",
      "name": "lister_leads",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [2550, 720],
      "credentials": {
        "httpHeaderAuth": {
          "id": "talosprimes-credential",
          "name": "Connexion TalosPrimes"
        }
      }
    },
    {
      "parameters": {
        "name": "creer_lead",
        "description": "Cree un nouveau lead ou prospect dans TalosPrimes. Champs requis: nom, prenom, email, tenantId. Champs optionnels: telephone, notes. La source est automatiquement definie sur telegram.",
        "method": "POST",
        "url": "https://api.talosprimes.com/api/leads",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "httpHeaderAuth",
        "sendHeaders": true,
        "specifyHeaders": "keypair",
        "headerParameters": {
          "values": [
            {
              "name": "X-TalosPrimes-N8N-Secret",
              "value": "={{ $credentials.httpHeaderAuth.value }}"
            },
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ JSON.stringify({ nom: $fromAI('nom', 'Nom du lead ou prospect', 'string'), prenom: $fromAI('prenom', 'Prenom du lead', 'string'), email: $fromAI('email', 'Adresse email du lead', 'string'), telephone: $fromAI('telephone', 'Telephone du lead, vide si non fourni', 'string'), source: 'telegram', notes: $fromAI('notes', 'Notes supplementaires, vide si aucune', 'string'), tenantId: $fromAI('tenantId', 'Identifiant du tenant', 'string') }) }}"
      },
      "id": "tool_creer_lead",
      "name": "creer_lead",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [2750, 720],
      "credentials": {
        "httpHeaderAuth": {
          "id": "talosprimes-credential",
          "name": "Connexion TalosPrimes"
        }
      }
    },
    {
      "parameters": {
        "name": "lister_factures",
        "description": "Liste toutes les factures enregistrees dans TalosPrimes. Retourne un tableau JSON avec les details de chaque facture (id, montant, client, statut, dates, etc.).",
        "method": "GET",
        "url": "https://api.talosprimes.com/api/invoices",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "httpHeaderAuth",
        "sendHeaders": true,
        "specifyHeaders": "keypair",
        "headerParameters": {
          "values": [
            {
              "name": "X-TalosPrimes-N8N-Secret",
              "value": "={{ $credentials.httpHeaderAuth.value }}"
            }
          ]
        }
      },
      "id": "tool_lister_factures",
      "name": "lister_factures",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [2150, 940],
      "credentials": {
        "httpHeaderAuth": {
          "id": "talosprimes-credential",
          "name": "Connexion TalosPrimes"
        }
      }
    },
    {
      "parameters": {
        "name": "creer_facture",
        "description": "Cree une nouvelle facture dans TalosPrimes. Champs requis: clientFinalId (ID du client), montantHt (montant hors taxes), tenantId. Champs optionnels: type (defaut: facture_client_final), tvaTaux (defaut: 20), dateFacture (YYYY-MM-DD), dateEcheance (YYYY-MM-DD), description.",
        "method": "POST",
        "url": "https://api.talosprimes.com/api/invoices",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "httpHeaderAuth",
        "sendHeaders": true,
        "specifyHeaders": "keypair",
        "headerParameters": {
          "values": [
            {
              "name": "X-TalosPrimes-N8N-Secret",
              "value": "={{ $credentials.httpHeaderAuth.value }}"
            },
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ JSON.stringify({ clientFinalId: $fromAI('clientFinalId', 'ID du client destinataire de la facture', 'string'), montantHt: $fromAI('montantHt', 'Montant hors taxes en euros', 'number'), type: $fromAI('type_facture', 'Type de facture: facture_client_final par defaut', 'string'), tvaTaux: $fromAI('tvaTaux', 'Taux de TVA en pourcentage, 20 par defaut', 'number'), dateFacture: $fromAI('dateFacture', 'Date de la facture au format YYYY-MM-DD', 'string'), dateEcheance: $fromAI('dateEcheance', 'Date echeance de paiement au format YYYY-MM-DD', 'string'), description: $fromAI('description_facture', 'Description de la facture, vide si non fourni', 'string'), tenantId: $fromAI('tenantId', 'Identifiant du tenant', 'string') }) }}"
      },
      "id": "tool_creer_facture",
      "name": "creer_facture",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [2350, 940],
      "credentials": {
        "httpHeaderAuth": {
          "id": "talosprimes-credential",
          "name": "Connexion TalosPrimes"
        }
      }
    },
    {
      "parameters": {
        "name": "lister_abonnements",
        "description": "Liste tous les abonnements actifs dans TalosPrimes. Retourne un tableau JSON avec les details de chaque abonnement (id, plan, statut, dates, client associe, etc.).",
        "method": "GET",
        "url": "https://api.talosprimes.com/api/subscriptions",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "httpHeaderAuth",
        "sendHeaders": true,
        "specifyHeaders": "keypair",
        "headerParameters": {
          "values": [
            {
              "name": "X-TalosPrimes-N8N-Secret",
              "value": "={{ $credentials.httpHeaderAuth.value }}"
            }
          ]
        }
      },
      "id": "tool_lister_abonnements",
      "name": "lister_abonnements",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [2550, 940],
      "credentials": {
        "httpHeaderAuth": {
          "id": "talosprimes-credential",
          "name": "Connexion TalosPrimes"
        }
      }
    },
    {
      "parameters": {
        "name": "lister_notifications",
        "description": "Liste toutes les notifications de la plateforme TalosPrimes. Retourne un tableau JSON avec les notifications (id, type, message, date, statut lu/non lu, etc.).",
        "method": "GET",
        "url": "https://api.talosprimes.com/api/notifications",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "httpHeaderAuth",
        "sendHeaders": true,
        "specifyHeaders": "keypair",
        "headerParameters": {
          "values": [
            {
              "name": "X-TalosPrimes-N8N-Secret",
              "value": "={{ $credentials.httpHeaderAuth.value }}"
            }
          ]
        }
      },
      "id": "tool_lister_notifications",
      "name": "lister_notifications",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [2750, 940],
      "credentials": {
        "httpHeaderAuth": {
          "id": "talosprimes-credential",
          "name": "Connexion TalosPrimes"
        }
      }
    },
    {
      "parameters": {
        "name": "stats_logs",
        "description": "Recupere les statistiques des logs systeme de TalosPrimes. Retourne des metriques agregees sur l'activite de la plateforme (nombre de requetes, erreurs, performances, etc.).",
        "method": "GET",
        "url": "https://api.talosprimes.com/api/logs/stats",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "httpHeaderAuth",
        "sendHeaders": true,
        "specifyHeaders": "keypair",
        "headerParameters": {
          "values": [
            {
              "name": "X-TalosPrimes-N8N-Secret",
              "value": "={{ $credentials.httpHeaderAuth.value }}"
            }
          ]
        }
      },
      "id": "tool_stats_logs",
      "name": "stats_logs",
      "type": "@n8n/n8n-nodes-langchain.toolHttpRequest",
      "typeVersion": 1.1,
      "position": [2950, 940],
      "credentials": {
        "httpHeaderAuth": {
          "id": "talosprimes-credential",
          "name": "Connexion TalosPrimes"
        }
      }
    },
    {
      "parameters": {
        "operation": "sendMessage",
        "chatId": "={{ $('AI Input Preparation').first().json.chatId }}",
        "text": "={{ $json.output || 'Desole, une erreur est survenue.' }}",
        "additionalFields": {
          "parse_mode": "MarkdownV2"
        }
      },
      "id": "send_telegram_response",
      "name": "Send Telegram Response",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [2200, 400],
      "credentials": {
        "telegramApi": {
          "id": "telegram-credential",
          "name": "Telegram Talosprimes"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Gestion des erreurs : envoie un message de secours a l'utilisateur\nlet chatId = '';\ntry {\n  const triggerItems = $('Telegram Trigger').all();\n  chatId = String(triggerItems[0].json.message.chat.id);\n} catch (e) {\n  chatId = '';\n}\n\nreturn [{\n  json: {\n    errorMessage: 'Desole, une erreur technique est survenue. Veuillez reessayer dans quelques instants.',\n    chatId: chatId,\n    error: 'Workflow execution error'\n  }\n}];"
      },
      "id": "error_handler",
      "name": "Error Handler",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [200, 1100]
    },
    {
      "parameters": {
        "operation": "sendMessage",
        "chatId": "={{ $json.chatId }}",
        "text": "={{ $json.errorMessage }}",
        "additionalFields": {
          "parse_mode": "MarkdownV2"
        }
      },
      "id": "send_error_message",
      "name": "Send Error Message",
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [450, 1100],
      "credentials": {
        "telegramApi": {
          "id": "telegram-credential",
          "name": "Telegram Talosprimes"
        }
      }
    }
  ],
  "connections": {
    "Telegram Trigger": {
      "main": [
        [
          {
            "node": "Check Voice or Text",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check Voice or Text": {
      "main": [
        [
          {
            "node": "Get Voice File Info",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Parse Text Message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Voice File Info": {
      "main": [
        [
          {
            "node": "Download Voice File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download Voice File": {
      "main": [
        [
          {
            "node": "Transcribe with Whisper",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Transcribe with Whisper": {
      "main": [
        [
          {
            "node": "Merge Voice Text",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge Voice Text": {
      "main": [
        [
          {
            "node": "AI Input Preparation",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse Text Message": {
      "main": [
        [
          {
            "node": "AI Input Preparation",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Input Preparation": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Send Telegram Response",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Claude Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Conversation Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "lister_clients": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "creer_client": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "lister_leads": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "creer_lead": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "lister_factures": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "creer_facture": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "lister_abonnements": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "lister_notifications": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "stats_logs": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Error Handler": {
      "main": [
        [
          {
            "node": "Send Error Message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "agent-telegram-ia-v4-pro",
  "meta": {
    "instanceId": "talosprimes-agent-telegram-ia"
  },
  "tags": [
    {
      "name": "telegram"
    },
    {
      "name": "ia-agent"
    },
    {
      "name": "talosprimes"
    }
  ],
  "pinData": {}
}